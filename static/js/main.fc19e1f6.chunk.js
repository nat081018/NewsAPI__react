(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{39:function(e,t,n){e.exports=n(69)},48:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),s=n(9),c=n.n(s),i=n(37),l=n(36),u=(n(48),n(38)),h=n(11),m=n(12),v=n(15),S=n(14),d=n(8),f=n(20),p=n(23),y=n(34),E=n.n(y),b=n(6),g=n(18),O=n.n(g),T=(n(67),n(13)),j=function(e){var t=e.onClick,n=e.className,a=void 0===n?"":n,r=e.children;return o.a.createElement("button",{onClick:t,className:a,type:"button"},r)},w={NONE:function(e){return e},TITLE:function(e){return Object(b.sortBy)(e,"title")},AUTHOR:function(e){return Object(b.sortBy)(e,"author")},COMMENTS:function(e){return Object(b.sortBy)(e,"num_comments").reverse()},POINTS:function(e){return Object(b.sortBy)(e,"points").reverse()}},K=function(e){var t=e.sortKey,n=e.activeSortKey,a=e.onSort,r=e.children,s=O()("button-inline",{"button-active":t===n});return o.a.createElement(j,{onClick:function(){return a(t)},className:s},r)},N=function(e){Object(v.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={sortKey:"NONE",isSortReverse:!1},a.onSort=a.onSort.bind(Object(T.a)(a)),a}return Object(m.a)(n,[{key:"onSort",value:function(e){var t=this.state.sortKey===e&&!this.state.isSortReverse;this.setState({sortKey:e,isSortReverse:t})}},{key:"render",value:function(){var e=this.props,t=e.list,n=e.onDismiss,a=this.state,r=a.sortKey,s=a.isSortReverse,c=w[r](t),i=s?c.reverse():c;return o.a.createElement("div",{className:"table"},o.a.createElement("div",{className:"table-header"},o.a.createElement("span",{style:{width:"40%"}},o.a.createElement(K,{sortKey:"TITLE",onSort:this.onSort,activeSortKey:r},"Title")),o.a.createElement("span",{style:{width:"30%"}},o.a.createElement(K,{sortKey:"AUTHOR",onSort:this.onSort,activeSortKey:r},"Author")),o.a.createElement("span",{style:{width:"10%"}},o.a.createElement(K,{sortKey:"COMMENTS",onSort:this.onSort,activeSortKey:r},"Comments")),o.a.createElement("span",{style:{width:"10%"}},o.a.createElement(K,{sortKey:"POINTS",onSort:this.onSort,activeSortKey:r},"Points")),o.a.createElement("span",{style:{width:"10%"}},"Archive")),i.map((function(e){return o.a.createElement("div",{key:e.objectID,className:"table-row"},o.a.createElement("span",{style:{width:"40%"}},o.a.createElement("a",{href:e.url},e.title)),o.a.createElement("span",{style:{width:"30%"}},e.author),o.a.createElement("span",{style:{width:"10%"}},e.num_comments),o.a.createElement("span",{style:{width:"10%"}},e.points),o.a.createElement("span",{style:{width:"10%"}},o.a.createElement(j,{onClick:function(){return n(e.objectID)},className:"button-inline"},"Dismiss")))})))}}]),n}(r.Component),k=function(e){var t=e.value,n=e.onChange,a=e.onSubmit,r=e.children;return o.a.createElement("form",{onSubmit:a},o.a.createElement("input",{type:"text",value:t,onChange:n}),o.a.createElement("button",{type:"submit"},r))},C="https://hn.algolia.com/api/v1",D=function(e){Object(v.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e))._isMounted=!1,a.needsToSearchTopStories=function(e){return!a.state.results[e]},a.setSearchTopStories=function(e){var t=e.hits,n=e.page;a.setState(function(e,t){return function(n){var a=n.searchKey,r=n.results,o=r&&r[a]?r[a].hits:[],s=[].concat(Object(p.a)(o),Object(p.a)(e));return{results:Object(f.a)({},r,Object(d.a)({},a,{hits:s,page:t})),isLoading:!1}}}(t,n))},a.fetchSearchTopStories=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a.setState({isLoading:!0}),E()("".concat(C).concat("/search","?").concat("query=").concat(e,"&").concat("page=").concat(t,"&").concat("hitsPerPage=").concat("100")).then((function(e){return a.setSearchTopStories(e.data)})).catch((function(e){return a._isMounted&&a.setState({error:e})}))},a.onSearchChange=function(e){return a.setState({searchTerm:e.target.value})},a.onSearchSubmit=function(e){var t=a.state.searchTerm;a.setState({searchKey:t}),a.needsToSearchTopStories(t)&&a.fetchSearchTopStories(t),e.preventDefault()},a.onDismiss=function(e){var t=a.state,n=t.searchKey,r=t.results,o=r[n],s=o.hits,c=o.page,i=s.filter((function(t){return t.objectID!==e}));a.setState({results:Object(f.a)({},r,Object(d.a)({},n,{hits:i,page:c}))})},a.state={results:null,searchKey:"",searchTerm:"redux",error:null,isLoading:!1,sortKey:"NONE",isSortReverse:!1},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.state.searchTerm;this.setState({searchKey:e}),this.fetchSearchTopStories(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchTerm,a=t.results,r=t.searchKey,s=t.error,c=t.isLoading,i=a&&a[r]&&a[r].page||0,l=a&&a[r]&&a[r].hits||[];return o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"interactions"},o.a.createElement(k,{value:n,onChange:this.onSearchChange,onSubmit:this.onSearchSubmit},"Search")),s?o.a.createElement("div",{className:"interactions"},o.a.createElement("p",null,"Something went wrong.")):o.a.createElement(N,{list:l,onDismiss:this.onDismiss}),o.a.createElement("div",{className:"interactions"},o.a.createElement(L,{isLoading:c,onClick:function(){return e.fetchSearchTopStories(r,i+1)}},"More")))}}]),n}(r.Component),M=function(){return o.a.createElement("div",null,"Loading ...")},L=(a=j,function(e){var t=e.isLoading,n=Object(u.a)(e,["isLoading"]);return t?o.a.createElement(M,null):o.a.createElement(a,n)}),I=D;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(5);var _=Object(R.b)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return e.concat([t.text]);default:return e}}}),B=Object(R.c)(_);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:B},o.a.createElement(i.a,null,o.a.createElement(I,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.fc19e1f6.chunk.js.map